(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c846e7fa"],{"159b":function(e,t,a){var i=a("da84"),s=a("fdbc"),r=a("17c2"),n=a("9112");for(var o in s){var c=i[o],l=c&&c.prototype;if(l&&l.forEach!==r)try{n(l,"forEach",r)}catch(h){l.forEach=r}}},"17c2":function(e,t,a){"use strict";var i=a("b727").forEach,s=a("a640"),r=a("ae40"),n=s("forEach"),o=r("forEach");e.exports=n&&o?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},"2ffe":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map-container"}},[a("div",{staticStyle:{position:"absolute",right:"50px",top:"50px","z-index":"999",width:"200px"}},[a("el-tree",{ref:"tree2",attrs:{data:e.treeData2,"show-checkbox":"","node-key":"id","highlight-current":""},on:{"check-change":e.handleCheckChange2}}),a("hr"),a("el-tree",{ref:"tree",attrs:{data:e.treeData,props:e.defaultProps,"show-checkbox":"","node-key":"id","highlight-current":""},on:{"check-change":e.handleCheckChange}})],1)])},s=[],r=(a("4160"),a("d81d"),a("ac1f"),a("1276"),a("159b"),a("afaa")),n={name:"MapServer",data:function(){return{SF311Layer:null,DamageAssessmentLayer:null,haveSublayers:null,defaultProps:{children:"children",label:"label"},treeData2:[{label:"StoryMapPlaces5",id:"StoryMapPlaces5"},{label:"StoryMapPlaces7",id:"StoryMapPlaces7"}],treeData:[{label:"Cities",id:0},{label:"Highways",id:1},{label:"States",id:2},{label:"Counties",id:3}],map:"",gisConstructor:{},gisModules:["dojo/_base/declare","esri/layers/ArcGISTiledMapServiceLayer","esri/layers/ArcGISDynamicMapServiceLayer","esri/geometry/Extent","esri/map"]}},mounted:function(){this.init()},methods:{handleCheckChange2:function(){var e=this,t=this.$refs.tree2.getCheckedKeys(),a=this.treeData2.map((function(e){return e.label}));a.forEach((function(t){var a=e.map.getLayer(t);a.setVisibility(!1)})),t.forEach((function(t){var a=e.map.getLayer(t);a.setVisibility(!0)}))},handleCheckChange:function(){var e=this.$refs.tree.getCheckedKeys(),t=this.map.getLayer("DamageAssessment");t.setVisibility(!1),t.setVisibility(!0),t.setVisibleLayers(e)},loadLayersFun:function(){var e=this,t=[{url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/StoryMaps/StoryMapPlaces5/MapServer",id:"StoryMapPlaces5",opacity:1,visible:!1,type:"dynamic"},{url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/StoryMaps/StoryMapPlaces7/MapServer",id:"StoryMapPlaces7",opacity:1,visible:!1,type:"dynamic"},{url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer",id:"DamageAssessment",opacity:.5,visible:!1,type:"dynamic"}];t.forEach((function(t){if("dynamic"===t.type){var a=new e.gisConstructor.ArcGISDynamicMapServiceLayer(t.url,{id:t.id,opacity:t.opacity||1,visible:t.visible});e.map.addLayer(a)}}));var a=this.map.getLayer("DamageAssessment");console.log(a.layerInfos),a.loaded?console.log(a.layerInfos):dojo.connect(a,"onLoad",(function(e){console.log(e.layerInfos)}))},mapClickFun:function(){this.map.on("click",(function(e){console.log(e)}))},init:function(){Object(r["loadCss"])("https://js.arcgis.com/3.32/esri/css/esri.css"),Object(r["loadModules"])(this.gisModules,{url:"https://js.arcgis.com/3.32/"}).then(this.initMap).then(this.loadLayersFun).then(this.mapClickFun)},initMap:function(e){for(var t in e){var a=this.gisModules[t].split("/").pop();this.gisConstructor[a]=e[t]}this.map=new this.gisConstructor.map("map-container",{basemap:"osm",logo:!1,slider:!0});var i={xmin:-117.1839455,ymin:32.68087830000002,xmax:-117.15035189999998,ymax:32.732100979999984};this.map.setExtent(new this.gisConstructor.Extent(i.xmin,i.ymin,i.xmax,i.ymax))}}},o=n,c=a("2877"),l=Object(c["a"])(o,i,s,!1,null,null,null);t["default"]=l.exports},4160:function(e,t,a){"use strict";var i=a("23e7"),s=a("17c2");i({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},a640:function(e,t,a){"use strict";var i=a("d039");e.exports=function(e,t){var a=[][e];return!!a&&i((function(){a.call(null,t||function(){throw 1},1)}))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);