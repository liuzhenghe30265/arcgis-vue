(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dfc81dde"],{1148:function(e,t,r){"use strict";var i=r("a691"),o=r("1d80");e.exports="".repeat||function(e){var t=String(o(this)),r="",n=i(e);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(r+=t);return r}},"1c40":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map-container"}},[r("div",{staticStyle:{position:"absolute",right:"50px",top:"50px","z-index":"999"}},[r("span",[e._v("标绘：")]),r("button",{on:{click:function(t){return e.drawingGraphicsTool("标绘","point")}}},[e._v("点")]),r("button",{on:{click:function(t){return e.drawingGraphicsTool("标绘","polyline")}}},[e._v("线")]),r("button",{on:{click:function(t){return e.drawingGraphicsTool("标绘","polygon")}}},[e._v("面")]),r("button",{on:{click:function(t){return e.drawingGraphicsTool("标绘","point","text")}}},[e._v("文字")]),r("br"),r("span",[e._v("空间测量：")]),r("button",{on:{click:function(t){return e.drawingGraphicsTool("空间测量","point")}}},[e._v("坐标测量")]),r("button",{on:{click:function(t){return e.drawingGraphicsTool("空间测量","polyline")}}},[e._v("距离测量")]),r("button",{on:{click:function(t){return e.drawingGraphicsTool("空间测量","polygon")}}},[e._v("面积测量")]),r("br"),r("span",[e._v("空间统计：")]),r("button",{on:{click:function(t){return e.drawingGraphicsTool("空间统计","point")}}},[e._v("点")]),r("button",{on:{click:function(t){return e.drawingGraphicsTool("空间统计","polyline")}}},[e._v("线")]),r("button",{on:{click:function(t){return e.drawingGraphicsTool("空间统计","polygon")}}},[e._v("面")]),r("br"),r("button",{on:{click:function(t){return e.drawingGraphicsTool()}}},[e._v("clear")])])])},o=[],n=(r("d81d"),r("ac1f"),r("1276"),r("afaa")),s=(r("b0c0"),r("a9e3"),r("b680"),r("5c96")),a=null,c=null,l={};function u(e){var t="<div><p>经度："+e.geometry.x.toFixed(6)+"</p><p>纬度："+e.geometry.y.toFixed(6)+"</p></div>";this.map.infoWindow.resize(200,100),this.map.infoWindow.setTitle("坐标信息"),this.map.infoWindow.setContent(t),this.map.infoWindow.show(e.geometry),this.map.infoWindow.on("hide",(function(){}))}function m(){return{url:r("435f"),height:20,width:20,type:"esriPMS",angle:0}}function g(e){return"fill"===e?new this.gisConstructor.Color([255,0,0,.25]):new this.gisConstructor.Color([255,0,0,.8])}function p(){return{color:g.call(this,"line"),width:2}}function h(e){var t=this;return{text:e,color:[255,0,0],font:new t.gisConstructor.Font({family:"microsoft Yahei",size:8,style:"normal",weight:"bold"}),haloColor:[255,255,255],haloSize:2,horizontalAlignment:"center",xoffset:0,yoffset:0}}function f(e){for(var t=a.graphics,r=t.length-1;r>=0;r--)t[r].attributes.id&&t[r].attributes.id===e&&a.remove(t[r])}function y(e){if(e.graphic&&e.graphic.attributes){var t=e.graphic.attributes;f(t.id)}}function d(e){var t=l.StatisticalServerURL||"",r=new this.gisConstructor.query;r.geometry=e,r.outFields=["*"],r.returnGeometry=!0;var i=new this.gisConstructor.QueryTask(t);i.execute(r,(function(e){console.log(e)}),(function(e){console.log(e)}))}function S(e){var t=this,r=this,i="",o=e.geometry.type,n="",f="symbolMarker"+(new Date).getTime();if("标绘"===l.name&&("point"===o&&!1===l.text?(n=new this.gisConstructor.PictureMarkerSymbol(m.call(this)),a.add(new this.gisConstructor.graphic(e.geometry,n,{id:f,name:"图形标注"}))):"point"===o&&!0===l.text?s["MessageBox"].prompt("","请输入文字",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(r){var i=r.value;""!==i&&(n=new t.gisConstructor.TextSymbol(h.call(t,i)),a.add(new t.gisConstructor.graphic(e.geometry,n,{id:f,name:"图形标注"})))})).catch((function(e){console.log(e)})):"polyline"===o?(n=new this.gisConstructor.SimpleLineSymbol(p.call(this)),console.log(e.geometry),a.add(new this.gisConstructor.graphic(e.geometry,n,{id:f,name:"图形标注"}))):"polygon"===o&&(n=new this.gisConstructor.SimpleFillSymbol(this.gisConstructor.SimpleFillSymbol.STYLE_SOLID,new this.gisConstructor.SimpleLineSymbol(p.call(this)),g.call(this,"fill")),a.add(new this.gisConstructor.graphic(e.geometry,n,{id:f,name:"图形标注"})))),"空间测量"===l.name)if("point"===o)u.call(this,e);else if("polyline"===o){n=new this.gisConstructor.SimpleLineSymbol(p.call(this)),a.add(new this.gisConstructor.graphic(e.geometry,n,{id:f,name:"图形标注"}));var y=new r.gisConstructor.LengthsParameters,S=new r.gisConstructor.GeometryService(l.GeometryServerURL);y.distanceUnit=r.gisConstructor.GeometryService.UNIT_KILOMETER,y.calculationType="preserveShape";var v=new r.gisConstructor.Polyline(r.map.spatialReference),b=e.geometry.paths[0];v.addPath(b),y.polylines=[v],S.lengths(y,(function(i){var o=r.gisConstructor.number.format(i.lengths[0]),n="总长度:"+o+"米",s=new r.gisConstructor.TextSymbol(h.call(t,n)),c=e.geometry.getExtent().getCenter(),l=new r.gisConstructor.Point(c,r.map.spatialReference),u=new r.gisConstructor.graphic(l,s,{id:f,name:"图形标注"});a.add(u)}))}else if("polygon"===o){n=new this.gisConstructor.SimpleFillSymbol(this.gisConstructor.SimpleFillSymbol.STYLE_SOLID,new this.gisConstructor.SimpleLineSymbol(p.call(this)),g.call(this,"fill")),a.add(new this.gisConstructor.graphic(e.geometry,n,{id:f,name:"图形标注"}));var w=new this.gisConstructor.AreasAndLengthsParameters,C=new this.gisConstructor.GeometryService(l.GeometryServerURL);w.areaUnit=this.gisConstructor.GeometryService.UNIT_SQUARE_KILOMETERS,w.calculationType="preserveShape",C.simplify([e.geometry],(function(r){w.polygons=r,C.areasAndLengths(w,(function(r){var i=t.gisConstructor.number.format(r.areas[0]),o=i+"平方公里",n=new t.gisConstructor.TextSymbol(h.call(t,o)),s=e.geometry.getExtent().getCenter(),c=new t.gisConstructor.Point(s,t.map.spatialReference),l=new t.gisConstructor.graphic(c,n,{id:f,name:"图形标注"});a.add(l)}))}))}if("空间统计"===l.name){"point"===o?i=new this.gisConstructor.SimpleMarkerSymbol(this.gisConstructor.SimpleMarkerSymbol.STYLE_SQUARE,10,new this.gisConstructor.SimpleLineSymbol(p.call(this)),g.call(this,"fill")):"polyline"===o?i=new r.gisConstructor.SimpleLineSymbol(p.call(this)):"polygon"===o&&(i=new this.gisConstructor.SimpleFillSymbol(this.gisConstructor.SimpleFillSymbol.STYLE_NONE,new this.gisConstructor.SimpleLineSymbol(this.gisConstructor.SimpleLineSymbol.STYLE_DASHDOT,new this.gisConstructor.SimpleLineSymbol(p.call(this)),g.call(this,"fill")),new this.gisConstructor.Color(g.call(this,"fill"))));var x=new this.gisConstructor.graphic(e.geometry,i,{id:f,name:"图形标注"});a.add(x);var A=new this.gisConstructor.BufferParameters;A.bufferSpatialReference=this.map.spatialReference,A.outSpatialReference=this.map.spatialReference,A.distances=[Number(l.distances)||1],A.unit=this.gisConstructor.GeometryService.UNIT_METER,A.geodesic=!0,A.geometries=[x.geometry],new this.gisConstructor.GeometryService(l.GeometryServerURL||"https://sampleserver6.arcgisonline.com/arcgis/rest/services/Utilities/Geometry/GeometryServer").buffer(A,(function(e){var i=new r.gisConstructor.SimpleFillSymbol(r.gisConstructor.SimpleFillSymbol.STYLE_SOLID,new r.gisConstructor.SimpleLineSymbol(p.call(t)),new r.gisConstructor.Color(g.call(t,"fill"))),o=new r.gisConstructor.graphic(e[0],i,{id:f,name:"图形标注"});a.add(o),d.call(r,o.geometry);var n=e[0].rings;console.log(n)}))}c.deactivate(),this.map.setMapCursor("default")}function v(){a=new this.gisConstructor.GraphicsLayer("",{id:"绘制图层"},this.map.spatialReference),this.map.addLayer(a),c=new this.gisConstructor.draw(this.map,{showTooltips:!0}),c.on("draw-complete",S.bind(this))}function b(e,t){l=t,c||v.call(this),"active"===e?(c.activate(t.type),this.map.setMapCursor("crosshair")):(c.deactivate(),this.map.setMapCursor("default"),a.clear(),this.map.infoWindow.hide()),this.map.on("click",y.bind(this))}var w={name:"DrawingGraphics",components:{},data:function(){return{map:"",gisConstructor:{},gisModules:["esri/map","esri/SpatialReference","esri/geometry/Extent","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon","esri/geometry/geometryEngine","esri/tasks/GeometryService","esri/tasks/ProjectParameters","esri/tasks/AreasAndLengthsParameters","esri/tasks/LengthsParameters","esri/tasks/query","esri/tasks/QueryTask","esri/tasks/BufferParameters","esri/graphic","esri/symbols/PictureMarkerSymbol","esri/symbols/TextSymbol","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/symbols/Font","esri/layers/GraphicsLayer","esri/layers/ArcGISDynamicMapServiceLayer","esri/layers/ArcGISTiledMapServiceLayer","esri/toolbars/draw","esri/Color","dojo/_base/declare","dojo/number","esri/config","esri/geometry/normalizeUtils"]}},mounted:function(){this.init()},methods:{mapClickFun:function(){this.map.on("click",(function(){}))},drawingGraphicsTool:function(e,t,r){if(e&&t){var i={};"标绘"===e&&(i={name:"标绘",type:t,text:!!r}),"空间测量"===e&&(i={GeometryServerURL:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/Utilities/Geometry/GeometryServer",name:"空间测量",type:t}),"空间统计"===e&&(i={StatisticalServerURL:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/StoryMaps/StoryMapPlaces4/MapServer/0",GeometryServerURL:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/Utilities/Geometry/GeometryServer",distances:100,name:"空间统计",type:t}),b.call(this,"active",i)}else b.call(this,"clear")},init:function(){Object(n["loadCss"])("https://js.arcgis.com/3.32/esri/css/esri.css"),Object(n["loadModules"])(this.gisModules,{url:"https://js.arcgis.com/3.32/init.js"}).then(this.initMap).then(this.mapClickFun)},initMap:function(e){for(var t in e){var r=this.gisModules[t].split("/").pop();this.gisConstructor[r]=e[t]}this.map=new this.gisConstructor.map("map-container",{basemap:"osm",logo:!1,slider:!0});var i={xmin:-117.1839455,ymin:32.68087830000002,xmax:-117.15035189999998,ymax:32.732100979999984};this.map.setExtent(new this.gisConstructor.Extent(i.xmin,i.ymin,i.xmax,i.ymax,new this.gisConstructor.SpatialReference));var o=new this.gisConstructor.ArcGISDynamicMapServiceLayer("https://sampleserver6.arcgisonline.com/arcgis/rest/services/StoryMaps/StoryMapPlaces4/MapServer",{id:"StoryMapPlaces4",opacity:1,visible:!0});this.map.addLayer(o,2)}}},C=w,x=r("2877"),A=Object(x["a"])(C,i,o,!1,null,null,null);t["default"]=A.exports},"408a":function(e,t,r){var i=r("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=i(e))throw TypeError("Incorrect invocation");return+e}},"435f":function(e,t){e.exports="data:image/png;base64,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"},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var i=r("1d80"),o=r("5899"),n="["+o+"]",s=RegExp("^"+n+n+"*"),a=RegExp(n+n+"*$"),c=function(e){return function(t){var r=String(i(t));return 1&e&&(r=r.replace(s,"")),2&e&&(r=r.replace(a,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(e,t,r){var i=r("861d"),o=r("d2bb");e.exports=function(e,t,r){var n,s;return o&&"function"==typeof(n=t.constructor)&&n!==r&&i(s=n.prototype)&&s!==r.prototype&&o(e,s),e}},a9e3:function(e,t,r){"use strict";var i=r("83ab"),o=r("da84"),n=r("94ca"),s=r("6eeb"),a=r("5135"),c=r("c6b6"),l=r("7156"),u=r("c04e"),m=r("d039"),g=r("7c73"),p=r("241c").f,h=r("06cf").f,f=r("9bf2").f,y=r("58a8").trim,d="Number",S=o[d],v=S.prototype,b=c(g(v))==d,w=function(e){var t,r,i,o,n,s,a,c,l=u(e,!1);if("string"==typeof l&&l.length>2)if(l=y(l),t=l.charCodeAt(0),43===t||45===t){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+l}for(n=l.slice(2),s=n.length,a=0;a<s;a++)if(c=n.charCodeAt(a),c<48||c>o)return NaN;return parseInt(n,i)}return+l};if(n(d,!S(" 0o1")||!S("0b1")||S("+0x1"))){for(var C,x=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof x&&(b?m((function(){v.valueOf.call(r)})):c(r)!=d)?l(new S(w(t)),r,x):w(t)},A=i?p(S):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;A.length>E;E++)a(S,C=A[E])&&!a(x,C)&&f(x,C,h(S,C));x.prototype=v,v.constructor=x,s(o,d,x)}},b0c0:function(e,t,r){var i=r("83ab"),o=r("9bf2").f,n=Function.prototype,s=n.toString,a=/^\s*function ([^ (]*)/,c="name";i&&!(c in n)&&o(n,c,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(e){return""}}})},b680:function(e,t,r){"use strict";var i=r("23e7"),o=r("a691"),n=r("408a"),s=r("1148"),a=r("d039"),c=1..toFixed,l=Math.floor,u=function(e,t,r){return 0===t?r:t%2===1?u(e,t-1,r*e):u(e*e,t/2,r)},m=function(e){var t=0,r=e;while(r>=4096)t+=12,r/=4096;while(r>=2)t+=1,r/=2;return t},g=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a((function(){c.call({})}));i({target:"Number",proto:!0,forced:g},{toFixed:function(e){var t,r,i,a,c=n(this),g=o(e),p=[0,0,0,0,0,0],h="",f="0",y=function(e,t){var r=-1,i=t;while(++r<6)i+=e*p[r],p[r]=i%1e7,i=l(i/1e7)},d=function(e){var t=6,r=0;while(--t>=0)r+=p[t],p[t]=l(r/e),r=r%e*1e7},S=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==p[e]){var r=String(p[e]);t=""===t?r:t+s.call("0",7-r.length)+r}return t};if(g<0||g>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(h="-",c=-c),c>1e-21)if(t=m(c*u(2,69,1))-69,r=t<0?c*u(2,-t,1):c/u(2,t,1),r*=4503599627370496,t=52-t,t>0){y(0,r),i=g;while(i>=7)y(1e7,0),i-=7;y(u(10,i,1),0),i=t-1;while(i>=23)d(1<<23),i-=23;d(1<<i),y(1,1),d(2),f=S()}else y(0,r),y(1<<-t,0),f=S()+s.call("0",g);return g>0?(a=f.length,f=h+(a<=g?"0."+s.call("0",g-a)+f:f.slice(0,a-g)+"."+f.slice(a-g))):f=h+f,f}})}}]);